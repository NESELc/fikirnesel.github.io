<!DOCTYPE html>
<html lang="tr">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GD0LRD6N1S"></script>
  <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-GD0LRD6N1S');</script>
  <meta name="google-adsense-account" content="ca-pub-1268402107177386">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Oyunlar | Online</title>
  <meta name="description" content="Eğlenceli oyunlar">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://nesel.tr/oyunlar.html">
  <meta property="og:title" content="Online Oyunlar">
  <meta property="og:description" content="Çizim yap.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://nesel.tr/oyunlar.html">

  <style>
    #oyunWrap{max-width:520px;margin:10px auto;padding:6px}
    #oyunBar{display:grid;grid-template-columns:auto 1fr auto auto auto;gap:8px;align-items:center;margin:0 0 6px}
    #msg{min-width:48px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    #info{white-space:nowrap;opacity:.85;text-align:right}
    #btnReset{padding:7px 11px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer}
    #btnPrev,#btnNext{width:34px;height:32px;padding:0;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
    #game{width:100%;height:440px;display:block;border:1px solid #ddd;border-radius:10px;background:#fff;touch-action:manipulation}
    @media(max-width:600px){#game{height:360px}#msg{max-width:110px}}
  </style>
</head>
<body>
  <div id="oyunWrap">
  <div id="oyunBar">
    <button id="btnReset" type="button">Sıfırla</button>
    <span id="msg">Seç</span>
    <small id="info"></small>
    <button id="btnPrev" type="button" aria-label="Önceki">◀</button>
    <button id="btnNext" type="button" aria-label="Sonraki">▶</button>
  </div>    
    <canvas id="game"></canvas>
  </div>


<script>
(() => {
  const TXT={  start:"Seç", move:"Komşu",  back:"Yasak",  used:"Kullanıldı",  win:"Kazandın ✓",  lose:"Olmadı ✗"};

  const cv=document.getElementById("game"),ctx=cv.getContext("2d");
  const msg=document.getElementById("msg"),info=document.getElementById("info"),btn=document.getElementById("btnReset");
  const prev=document.getElementById("btnPrev"),next=document.getElementById("btnNext"),shapeInfo=document.getElementById("shapeInfo");

  const S={pad:70,r:10,hit:18};
const SHAPES=[
{pts:[[.25,.25],[.75,.25],[.25,.75],[.75,.75]],edges:[[0,1],[1,3],[3,2],[2,0],[1,2]]},
{pts:[[.2,.3],[.2,.8],[.35,.55],[.65,.55],[.8,.3],[.8,.8]],edges:[[0,1],[1,2],[2,0],[3,4],[4,5],[5,3],[2,3]]},
{pts:[[.2,.65],[.8,.65],[.8,.9],[.2,.9],[.5,.25]],edges:[[0,1],[1,2],[2,3],[3,0],[0,4],[1,4]]},
{pts:[[.2,.3],[.4,.3],[.4,.6],[.2,.6],[.6,.45],[.8,.45]],edges:[[0,1],[1,2],[2,3],[3,0],[4,5],[1,4],[2,4],[0,2],[0,5]]},
{pts:[[.5,.25],[.7,.4],[.6,.65],[.4,.65],[.3,.4],[.5,.5],[.85,.5]],edges:[[0,1],[1,2],[2,3],[3,4],[4,0],[0,5],[2,5],[4,5],[1,6],[0,2],[5,6]]},
{pts:[[.3,.3],[.6,.3],[.6,.6],[.3,.6],[.3,.15],[.3,.05]],edges:[[0,1],[1,2],[2,3],[3,0],[0,2],[0,4],[4,5],[5,0],[5,1],[5,2]]},
{pts:[[.25,.3],[.15,.65],[.35,.65],[.75,.3],[.65,.65],[.85,.65]],edges:[[0,1],[1,2],[2,0],[3,4],[4,5],[5,3],[2,4]]},
{pts:[[.5,.15],[.8,.35],[.7,.75],[.3,.75],[.2,.35]],edges:[[0,1],[1,2],[2,3],[3,4],[4,0],[0,2],[1,3],[0,3]]},
{pts:[[.5,.12],[.78,.28],[.78,.62],[.5,.82],[.22,.62],[.22,.28]],edges:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,0],[0,3],[1,4],[1,3]]}
];





  let shapeId=0,nodes=[],selected=-1,walk=[],visitedE=new Set(),lastEdge=null,dead=false,edges=[];

  const DPR=()=>Math.max(1,Math.min(2,window.devicePixelRatio||1));
  const R=()=>cv.getBoundingClientRect();
  const key=(a,b)=>{const x=Math.min(a,b),y=Math.max(a,b);return x+"-"+y;};

  function fit(){
    const r=R(),k=DPR();
    cv.width=Math.floor(r.width*k);cv.height=Math.floor(r.height*k);
    ctx.setTransform(k,0,0,k,0,0);
    reset();
  }

  function buildNodes(){
  const w=R().width,h=R().height,mx=0.10,my=0.07,sw=w*(1-2*mx),sh=h*(1-2*my),ox=w*mx,oy=h*my;
  nodes=SHAPES[shapeId].pts.map(p=>({x:ox+p[0]*sw,y:oy+p[1]*sh}));
}



  function isAdj(a,b){
    return edges.some(e=>(e[0]===a&&e[1]===b)||(e[0]===b&&e[1]===a));
  }

  function dist(a,b){return Math.hypot(a.x-b.x,a.y-b.y);}
  function hitNode(x,y){
    for(let i=0;i<nodes.length;i++)if(dist(nodes[i],{x,y})<=S.hit)return i;
    return -1;
  }

  function possibleMoves(from){
  return edges.map(e=>e[0]===from?e[1]:e[1]===from?e[0]:-1).filter(n=>n>=0).filter(n=>{
    const k=key(from,n);
    if(lastEdge&&k===lastEdge)return false;      // geri dönüş yasak
    if(visitedE.has(k))return false;             // aynı kenarı tekrar kullanma
    return true;
  });
  }
  function ui(){info.textContent=`lvl${shapeId+1} • K:${visitedE.size}/${edges.length}`;}
  function draw(){
    const w=R().width,h=R().height;ctx.clearRect(0,0,w,h);

    ctx.lineWidth=5;ctx.strokeStyle="#111";
    edges.forEach(e=>{
      ctx.beginPath();ctx.moveTo(nodes[e[0]].x,nodes[e[0]].y);ctx.lineTo(nodes[e[1]].x,nodes[e[1]].y);ctx.stroke();
    });

    ctx.lineWidth=7;ctx.lineCap="round";ctx.strokeStyle="#2f6fff";
    edges.forEach(e=>{
      const k=key(e[0],e[1]);
      if(!visitedE.has(k))return;
      ctx.beginPath();ctx.moveTo(nodes[e[0]].x,nodes[e[0]].y);ctx.lineTo(nodes[e[1]].x,nodes[e[1]].y);ctx.stroke();
    });

    ctx.lineWidth=4;ctx.strokeStyle="rgba(46,213,115,.95)";
    ctx.beginPath();
    for(let i=0;i<walk.length;i++){
      const p=nodes[walk[i]];
      if(!i)ctx.moveTo(p.x,p.y);else ctx.lineTo(p.x,p.y);
    }
    if(walk.length>1)ctx.stroke();

    nodes.forEach((p,i)=>{
      ctx.beginPath();
      ctx.fillStyle=i===selected?"#ffcc00":"#111";
      ctx.arc(p.x,p.y,S.r,0,Math.PI*2);
      ctx.fill();
      ctx.lineWidth=2;ctx.strokeStyle="#fff";ctx.stroke();
    });

    ui();
  }

function winCheck(){
  if(visitedE.size===edges.length){msg.textContent=TXT.win;dead=true;}
}
function deadCheck(){
  if(visitedE.size===edges.length)return;
  if(possibleMoves(selected).length===0){msg.textContent=TXT.lose;dead=true;}
}
function reset(){
  edges=SHAPES[shapeId].edges;
  buildNodes();
  selected=-1;walk=[];visitedE=new Set();lastEdge=null;dead=false;
  msg.textContent=TXT.start;
  draw();
}

cv.addEventListener("click",e=>{
  if(dead)return;
  const r=R(),x=e.clientX-r.left,y=e.clientY-r.top;
  const n=hitNode(x,y);
  if(n<0)return;

  if(selected<0){
    selected=n;walk=[n];
    msg.textContent=TXT.move;
    draw();return;
  }

  if(n===selected)return;
  if(!isAdj(selected,n))return;

  const k=key(selected,n);
  if(lastEdge===k){msg.textContent=TXT.back;return;}
  if(visitedE.has(k)){msg.textContent=TXT.used;return;}

  visitedE.add(k);
  lastEdge=k;
  selected=n;
  walk.push(n);

  msg.textContent=TXT.move;
  draw();
  winCheck();
  deadCheck();
});


  btn.addEventListener("click",reset);
  prev.addEventListener("click",()=>{shapeId=(shapeId-1+SHAPES.length)%SHAPES.length;reset();});
  next.addEventListener("click",()=>{shapeId=(shapeId+1)%SHAPES.length;reset();});

  window.addEventListener("resize",fit);
  fit();
})();
</script>



  </body>
</html>
